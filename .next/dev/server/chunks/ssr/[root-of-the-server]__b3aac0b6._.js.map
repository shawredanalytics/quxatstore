{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MANIKUMAR/Desktop/QuXAT%20Store/web/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '../generated/client/client'\n\nconst prismaClientSingleton = () => {\n  return new PrismaClient()\n}\n\ndeclare global {\n  var prisma: undefined | ReturnType<typeof prismaClientSingleton>\n}\n\nconst prisma = globalThis.prisma ?? prismaClientSingleton()\n\nexport default prisma\n\nif (process.env.NODE_ENV !== 'production') globalThis.prisma = prisma\n"],"names":[],"mappings":";;;;;;;;;;AAEA,MAAM,wBAAwB;IAC5B,OAAO,IAAI;AACb;AAMA,MAAM,SAAS,WAAW,MAAM,IAAI;uCAErB;AAEf,wCAA2C,WAAW,MAAM,GAAG"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MANIKUMAR/Desktop/QuXAT%20Store/web/src/app/actions.ts"],"sourcesContent":["'use server'\n\nimport { writeFile } from 'fs/promises'\nimport { join } from 'path'\nimport prisma from '@/lib/prisma'\nimport { revalidatePath } from 'next/cache'\n\nexport async function uploadDocument(formData: FormData) {\n  const file = formData.get('file') as File\n  const title = formData.get('title') as string\n  const description = formData.get('description') as string\n  const category = formData.get('category') as string\n\n  if (!file) {\n    throw new Error('No file uploaded')\n  }\n\n  const bytes = await file.arrayBuffer()\n  const buffer = Buffer.from(bytes)\n\n  // Create unique filename\n  const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\n  const filename = file.name.replace(/[^a-zA-Z0-9.-]/g, '_') // Sanitize filename\n  const savedFilename = `${uniqueSuffix}-${filename}`\n  \n  const uploadDir = join(process.cwd(), 'public', 'uploads')\n  const path = join(uploadDir, savedFilename)\n  \n  await writeFile(path, buffer)\n  \n  const fileUrl = `/uploads/${savedFilename}`\n\n  await prisma.document.create({\n    data: {\n      title,\n      description,\n      fileUrl,\n      fileName: file.name,\n      fileType: file.type,\n      category\n    }\n  })\n\n  revalidatePath('/')\n  return { success: true }\n}\n\nexport async function getDocuments(query?: string) {\n  const documents = await prisma.document.findMany({\n    where: query ? {\n      OR: [\n        { title: { contains: query } },\n        { description: { contains: query } },\n        { category: { contains: query } }\n      ]\n    } : {},\n    orderBy: { uploadedAt: 'desc' }\n  })\n  return documents\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;;;;;;;AAEO,eAAe,eAAe,QAAkB;IACrD,MAAM,OAAO,SAAS,GAAG,CAAC;IAC1B,MAAM,QAAQ,SAAS,GAAG,CAAC;IAC3B,MAAM,cAAc,SAAS,GAAG,CAAC;IACjC,MAAM,WAAW,SAAS,GAAG,CAAC;IAE9B,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,QAAQ,MAAM,KAAK,WAAW;IACpC,MAAM,SAAS,OAAO,IAAI,CAAC;IAE3B,yBAAyB;IACzB,MAAM,eAAe,KAAK,GAAG,KAAK,MAAM,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;IACnE,MAAM,WAAW,KAAK,IAAI,CAAC,OAAO,CAAC,mBAAmB,KAAK,oBAAoB;;IAC/E,MAAM,gBAAgB,GAAG,aAAa,CAAC,EAAE,UAAU;IAEnD,MAAM,YAAY,IAAA,yGAAI,EAAC,QAAQ,GAAG,IAAI,UAAU;IAChD,MAAM,OAAO,IAAA,yGAAI,EAAC,WAAW;IAE7B,MAAM,IAAA,kIAAS,EAAC,MAAM;IAEtB,MAAM,UAAU,CAAC,SAAS,EAAE,eAAe;IAE3C,MAAM,+HAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;QAC3B,MAAM;YACJ;YACA;YACA;YACA,UAAU,KAAK,IAAI;YACnB,UAAU,KAAK,IAAI;YACnB;QACF;IACF;IAEA,IAAA,+IAAc,EAAC;IACf,OAAO;QAAE,SAAS;IAAK;AACzB;AAEO,eAAe,aAAa,KAAc;IAC/C,MAAM,YAAY,MAAM,+HAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;QAC/C,OAAO,QAAQ;YACb,IAAI;gBACF;oBAAE,OAAO;wBAAE,UAAU;oBAAM;gBAAE;gBAC7B;oBAAE,aAAa;wBAAE,UAAU;oBAAM;gBAAE;gBACnC;oBAAE,UAAU;wBAAE,UAAU;oBAAM;gBAAE;aACjC;QACH,IAAI,CAAC;QACL,SAAS;YAAE,YAAY;QAAO;IAChC;IACA,OAAO;AACT;;;IApDsB;IAwCA;;AAxCA,+OAAA;AAwCA,+OAAA"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MANIKUMAR/Desktop/QuXAT%20Store/web/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getDocuments as '40fbc892c2511c4dc0681e42a9b21a9cf4e5a46cc7'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}